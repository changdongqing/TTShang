@inherits LayoutComponentBase
@using Microsoft.Extensions.Options
@using TTShang.AntDesignTheme.Blazor.Settings
@using TTShang.AntDesignTheme.Blazor.Components
@using TTShang.AntDesignTheme.Blazor.Layout
@using Volo.Abp.Ui.LayoutHooks
@using TTShang.AntDesignTheme.Blazor.Components.LayoutHooks
@using AntDesign.ProLayout
@inject IOptions<AbpAntDesignThemeOptions> Options

<AntDesign.ProLayout.BasicLayout 
    Logo="@("https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg")"
    MenuData="MenuData"
    Title="@AppName"
    MenuAccordion
    @bind-Collapsed="collapsed" 
    RightContentRender="@RightContentRender">
    <HeaderContentRender>
        <Space Size="@("24")">
            <SpaceItem>
                <Icon Class="action" Type="@(collapsed?"menu-unfold":"menu-fold")" OnClick="Toggle" />
            </SpaceItem>
            @* <SpaceItem>
                <Icon Class="action" Type="reload" Theme="@IconThemeType.Outline"  />
            </SpaceItem> *@
        </Space>
    </HeaderContentRender>
    <ChildContent>
        <div class="layout-content-wrapper" style="display: flex; flex-direction: column; height: 100%; overflow: hidden;">
            <div class="tabs-section" style="flex-shrink: 0;">
                <ReuseTabs></ReuseTabs>
            </div>
            <div class="body-section" style="flex: 1; overflow: hidden; display: flex; flex-direction: column;">
                @Body
            </div>
        </div>
    </ChildContent>
    <FooterRender ></FooterRender>
</AntDesign.ProLayout.BasicLayout>
<SettingDrawer />

@code {
    bool collapsed;
    private RenderFragment RightContentRender =>
        @<NavToolbar/>;
    void Toggle()
    {
        collapsed = !collapsed;
    }
}

